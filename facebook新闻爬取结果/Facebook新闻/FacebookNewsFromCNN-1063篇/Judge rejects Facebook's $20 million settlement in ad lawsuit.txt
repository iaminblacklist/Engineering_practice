Facebook wants to put an end to a year-long lawsuit over its "sponsored stories" ads, but a federal judge has rejected the company's proposed $20 million settlement. The dollar amount Facebook suggested seems "plucked out of thin air," U.S. District Judge Richard Seeborg wrote in his ruling.  Five Facebook users filed the lawsuit in April 2011, three months after Facebook introduced controversial ads that include users' names and faces. An earlier ruling in the case ordered Facebook to allow users to opt out of having their information used in the so-called Sponsored Stories. Facebook and the suing parties struck a deal to resolve the case, but with Friday's ruling, the monetary settlement is back up in the air. The terms Judge Seeborg rejected would have included a $10 million "cy pres" payment to Internet privacy advocacy groups and up to $10 million in fees for the plaintiffs' attorneys. The settlement can be submitted to the court again, but to do so both sides will have to first answer Seeborg's long list of questions about the deal.  Facebook apparently plans to do just that. In an emailed statement after the ruling, the company said it believes "the settlement is fair, reasonable, and adequate ... We are confident we can address the issues raised by the court without substantially revising the settlement." In his ruling, Seeborg questioned the logic behind the $20 million figure. Both sides have said that the massive size of the class -- up to 100 million Facebook users -- makes it impractical to offer cash payments for class members. Seeborg explored that argument in his ruling. "The issue this presents appears to be a novel one: Can a cy pres-only settlement be justified on the basis that the class size is simply too large for direct monetary relief?" he wrote. "Are some class actions simply too big to settle?" He isn't yet convinced. Seeborg warned that any new motion on the $20 million settlement -- or any proposal for a new settlement -- will either have to pay cash to class members or answer those tough questions.  Seeborg said in his ruling that California civil law provides for up to $750 for each class member. Another choice tidbit from the court filing: An expert hired by the plaintiffs estimated that the changes that Facebook will have to make to Sponsored Stories -- namely, allowing people to opt out -- will cost about $103 million. Last month, Facebook executives said on an earnings call that Sponsored Stories make the company $1 million each day.